@model IEnumerable<Product>

@if(ViewContext.RouteData.Values["id"] == null)
{
    @await Html.PartialAsync("_List", Model)
}
else
{
    @await Html.PartialAsync("_Details", Model.First());
}

@section Scripts {
    <partial name="~/Views/Scripts/_ProductIndexJs.cshtml" />
}